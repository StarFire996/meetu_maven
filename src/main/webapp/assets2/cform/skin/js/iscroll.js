(function(_1,_2){var m=Math,_3=_2.createElement("div").style,_4=(function(){var _5="t,webkitT,MozT,msT,OT".split(","),t,i=0,l=_5.length;for(;i<l;i++){t=_5[i]+"ransform";if(t in _3){return _5[i].substr(0,_5[i].length-1);}}return false;})(),_6=_4?"-"+_4.toLowerCase()+"-":"",_7=_8("transform"),_9=_8("transitionProperty"),_a=_8("transitionDuration"),_b=_8("transformOrigin"),_c=_8("transitionTimingFunction"),_d=_8("transitionDelay"),_e=(/android/gi).test(navigator.appVersion),_f=(/iphone|ipad/gi).test(navigator.appVersion),_10=(/hp-tablet/gi).test(navigator.appVersion),_11=_8("perspective") in _3,_12="ontouchstart" in _1&&!_10,_13=_4!==false,_14=_8("transition") in _3,_15="onorientationchange" in _1?"orientationchange":"resize",_16=_12?"touchstart":"mousedown",_17=_12?"touchmove":"mousemove",_18=_12?"touchend":"mouseup",_19=_12?"touchcancel":"mouseup",_1a=(function(){if(_4===false){return false;}var _1b={"":"transitionend","webkit":"webkitTransitionEnd","Moz":"transitionend","O":"otransitionend","ms":"MSTransitionEnd"};return _1b[_4];})(),_1c=(function(){return _1.requestAnimationFrame||_1.webkitRequestAnimationFrame||_1.mozRequestAnimationFrame||_1.oRequestAnimationFrame||_1.msRequestAnimationFrame||function(_1d){return setTimeout(_1d,1);};})(),_1e=(function(){return _1.cancelRequestAnimationFrame||_1.webkitCancelAnimationFrame||_1.webkitCancelRequestAnimationFrame||_1.mozCancelRequestAnimationFrame||_1.oCancelRequestAnimationFrame||_1.msCancelRequestAnimationFrame||clearTimeout;})(),_1f=_11?" translateZ(0)":"",_20=function(el,_21){var _22=this,i;_22.wrapper=typeof el=="object"?el:_2.getElementById(el);_22.wrapper.style.overflow="hidden";_22.scroller=_22.wrapper.children[0];_22.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,handleClick:true,hScrollbar:true,vScrollbar:true,fixedScrollbar:_e,hideScrollbar:_f,fadeScrollbar:_f&&_11,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault();},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(i in _21){_22.options[i]=_21[i];}_22.x=_22.options.x;_22.y=_22.options.y;_22.options.useTransform=_13&&_22.options.useTransform;_22.options.hScrollbar=_22.options.hScroll&&_22.options.hScrollbar;_22.options.vScrollbar=_22.options.vScroll&&_22.options.vScrollbar;_22.options.zoom=_22.options.useTransform&&_22.options.zoom;_22.options.useTransition=_14&&_22.options.useTransition;if(_22.options.zoom&&_e){_1f="";}_22.scroller.style[_9]=_22.options.useTransform?_6+"transform":"top left";_22.scroller.style[_a]="0";_22.scroller.style[_b]="0 0";if(_22.options.useTransition){_22.scroller.style[_c]="cubic-bezier(0.33,0.66,0.66,1)";}if(_22.options.useTransform){_22.scroller.style[_7]="translate("+_22.x+"px,"+_22.y+"px)"+_1f;}else{_22.scroller.style.cssText+=";position:absolute;top:"+_22.y+"px;left:"+_22.x+"px";}if(_22.options.useTransition){_22.options.fixedScrollbar=true;}_22.refresh();_22._bind(_15,_1);_22._bind(_16);if(!_12){if(_22.options.wheelAction!="none"){_22._bind("DOMMouseScroll");_22._bind("mousewheel");}}if(_22.options.checkDOMChanges){_22.checkDOMTime=setInterval(function(){_22._checkDOMChanges();},500);}};_20.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var _23=this;switch(e.type){case _16:if(!_12&&e.button!==0){return;}_23._start(e);break;case _17:_23._move(e);break;case _18:case _19:_23._end(e);break;case _15:_23._resize();break;case "DOMMouseScroll":case "mousewheel":_23._wheel(e);break;case _1a:_23._transitionEnd(e);break;}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||(this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)){return;}this.refresh();},_scrollbar:function(dir){var _24=this,bar;if(!_24[dir+"Scrollbar"]){if(_24[dir+"ScrollbarWrapper"]){if(_13){_24[dir+"ScrollbarIndicator"].style[_7]="";}_24[dir+"ScrollbarWrapper"].parentNode.removeChild(_24[dir+"ScrollbarWrapper"]);_24[dir+"ScrollbarWrapper"]=null;_24[dir+"ScrollbarIndicator"]=null;}return;}if(!_24[dir+"ScrollbarWrapper"]){bar=_2.createElement("div");if(_24.options.scrollbarClass){bar.className=_24.options.scrollbarClass+dir.toUpperCase();}else{bar.style.cssText="position:absolute;z-index:100;"+(dir=="h"?"height:7px;bottom:1px;left:2px;right:"+(_24.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(_24.hScrollbar?"7":"2")+"px;top:2px;right:1px");}bar.style.cssText+=";pointer-events:none;"+_6+"transition-property:opacity;"+_6+"transition-duration:"+(_24.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(_24.options.hideScrollbar?"0":"1");_24.wrapper.appendChild(bar);_24[dir+"ScrollbarWrapper"]=bar;bar=_2.createElement("div");if(!_24.options.scrollbarClass){bar.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+_6+"background-clip:padding-box;"+_6+"box-sizing:border-box;"+(dir=="h"?"height:100%":"width:100%")+";"+_6+"border-radius:3px;border-radius:3px";}bar.style.cssText+=";pointer-events:none;"+_6+"transition-property:"+_6+"transform;"+_6+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+_6+"transition-duration:0;"+_6+"transform: translate(0,0)"+_1f;if(_24.options.useTransition){bar.style.cssText+=";"+_6+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)";}_24[dir+"ScrollbarWrapper"].appendChild(bar);_24[dir+"ScrollbarIndicator"]=bar;}if(dir=="h"){_24.hScrollbarSize=_24.hScrollbarWrapper.clientWidth;_24.hScrollbarIndicatorSize=m.max(m.round(_24.hScrollbarSize*_24.hScrollbarSize/_24.scrollerW),8);_24.hScrollbarIndicator.style.width=_24.hScrollbarIndicatorSize+"px";_24.hScrollbarMaxScroll=_24.hScrollbarSize-_24.hScrollbarIndicatorSize;_24.hScrollbarProp=_24.hScrollbarMaxScroll/_24.maxScrollX;}else{_24.vScrollbarSize=_24.vScrollbarWrapper.clientHeight;_24.vScrollbarIndicatorSize=m.max(m.round(_24.vScrollbarSize*_24.vScrollbarSize/_24.scrollerH),8);_24.vScrollbarIndicator.style.height=_24.vScrollbarIndicatorSize+"px";_24.vScrollbarMaxScroll=_24.vScrollbarSize-_24.vScrollbarIndicatorSize;_24.vScrollbarProp=_24.vScrollbarMaxScroll/_24.maxScrollY;}_24._scrollbarPos(dir,true);},_resize:function(){var _25=this;setTimeout(function(){_25.refresh();},_e?200:0);},_pos:function(x,y){if(this.zoomed){return;}x=this.hScroll?x:0;y=this.vScroll?y:0;if(this.options.useTransform){this.scroller.style[_7]="translate("+x+"px,"+y+"px) scale("+this.scale+")"+_1f;}else{x=m.round(x);y=m.round(y);this.scroller.style.left=x+"px";this.scroller.style.top=y+"px";}this.x=x;this.y=y;this._scrollbarPos("h");this._scrollbarPos("v");},_scrollbarPos:function(dir,_26){var _27=this,pos=dir=="h"?_27.x:_27.y,_28;if(!_27[dir+"Scrollbar"]){return;}pos=_27[dir+"ScrollbarProp"]*pos;if(pos<0){if(!_27.options.fixedScrollbar){_28=_27[dir+"ScrollbarIndicatorSize"]+m.round(pos*3);if(_28<8){_28=8;}_27[dir+"ScrollbarIndicator"].style[dir=="h"?"width":"height"]=_28+"px";}pos=0;}else{if(pos>_27[dir+"ScrollbarMaxScroll"]){if(!_27.options.fixedScrollbar){_28=_27[dir+"ScrollbarIndicatorSize"]-m.round((pos-_27[dir+"ScrollbarMaxScroll"])*3);if(_28<8){_28=8;}_27[dir+"ScrollbarIndicator"].style[dir=="h"?"width":"height"]=_28+"px";pos=_27[dir+"ScrollbarMaxScroll"]+(_27[dir+"ScrollbarIndicatorSize"]-_28);}else{pos=_27[dir+"ScrollbarMaxScroll"];}}}_27[dir+"ScrollbarWrapper"].style[_d]="0";_27[dir+"ScrollbarWrapper"].style.opacity=_26&&_27.options.hideScrollbar?"0":"1";_27[dir+"ScrollbarIndicator"].style[_7]="translate("+(dir=="h"?pos+"px,0)":"0,"+pos+"px)")+_1f;},_start:function(e){var _29=this,_2a=_12?e.touches[0]:e,_2b,x,y,c1,c2;if(!_29.enabled){return;}if(_29.options.onBeforeScrollStart){_29.options.onBeforeScrollStart.call(_29,e);}if(_29.options.useTransition||_29.options.zoom){_29._transitionTime(0);}_29.moved=false;_29.animating=false;_29.zoomed=false;_29.distX=0;_29.distY=0;_29.absDistX=0;_29.absDistY=0;_29.dirX=0;_29.dirY=0;if(_29.options.zoom&&_12&&e.touches.length>1){c1=m.abs(e.touches[0].pageX-e.touches[1].pageX);c2=m.abs(e.touches[0].pageY-e.touches[1].pageY);_29.touchesDistStart=m.sqrt(c1*c1+c2*c2);_29.originX=m.abs(e.touches[0].pageX+e.touches[1].pageX-_29.wrapperOffsetLeft*2)/2-_29.x;_29.originY=m.abs(e.touches[0].pageY+e.touches[1].pageY-_29.wrapperOffsetTop*2)/2-_29.y;if(_29.options.onZoomStart){_29.options.onZoomStart.call(_29,e);}}if(_29.options.momentum){if(_29.options.useTransform){_2b=getComputedStyle(_29.scroller,null)[_7].replace(/[^0-9\-.,]/g,"").split(",");x=+(_2b[12]||_2b[4]);y=+(_2b[13]||_2b[5]);}else{x=+getComputedStyle(_29.scroller,null).left.replace(/[^0-9-]/g,"");y=+getComputedStyle(_29.scroller,null).top.replace(/[^0-9-]/g,"");}if(x!=_29.x||y!=_29.y){if(_29.options.useTransition){_29._unbind(_1a);}else{_1e(_29.aniTime);}_29.steps=[];_29._pos(x,y);if(_29.options.onScrollEnd){_29.options.onScrollEnd.call(_29);}}}_29.absStartX=_29.x;_29.absStartY=_29.y;_29.startX=_29.x;_29.startY=_29.y;_29.pointX=_2a.pageX;_29.pointY=_2a.pageY;_29.startTime=e.timeStamp||Date.now();if(_29.options.onScrollStart){_29.options.onScrollStart.call(_29,e);}_29._bind(_17,_1);_29._bind(_18,_1);_29._bind(_19,_1);},_move:function(e){var _2c=this,_2d=_12?e.touches[0]:e,_2e=_2d.pageX-_2c.pointX,_2f=_2d.pageY-_2c.pointY,_30=_2c.x+_2e,_31=_2c.y+_2f,c1,c2,_32,_33=e.timeStamp||Date.now();if(_2c.options.onBeforeScrollMove){_2c.options.onBeforeScrollMove.call(_2c,e);}if(_2c.options.zoom&&_12&&e.touches.length>1){c1=m.abs(e.touches[0].pageX-e.touches[1].pageX);c2=m.abs(e.touches[0].pageY-e.touches[1].pageY);_2c.touchesDist=m.sqrt(c1*c1+c2*c2);_2c.zoomed=true;_32=1/_2c.touchesDistStart*_2c.touchesDist*this.scale;if(_32<_2c.options.zoomMin){_32=0.5*_2c.options.zoomMin*Math.pow(2,_32/_2c.options.zoomMin);}else{if(_32>_2c.options.zoomMax){_32=2*_2c.options.zoomMax*Math.pow(0.5,_2c.options.zoomMax/_32);}}_2c.lastScale=_32/this.scale;_30=this.originX-this.originX*_2c.lastScale+this.x;_31=this.originY-this.originY*_2c.lastScale+this.y;this.scroller.style[_7]="translate("+_30+"px,"+_31+"px) scale("+_32+")"+_1f;if(_2c.options.onZoom){_2c.options.onZoom.call(_2c,e);}return;}_2c.pointX=_2d.pageX;_2c.pointY=_2d.pageY;if(_30>0||_30<_2c.maxScrollX){_30=_2c.options.bounce?_2c.x+(_2e/2):_30>=0||_2c.maxScrollX>=0?0:_2c.maxScrollX;}if(_31>_2c.minScrollY||_31<_2c.maxScrollY){_31=_2c.options.bounce?_2c.y+(_2f/2):_31>=_2c.minScrollY||_2c.maxScrollY>=0?_2c.minScrollY:_2c.maxScrollY;}_2c.distX+=_2e;_2c.distY+=_2f;_2c.absDistX=m.abs(_2c.distX);_2c.absDistY=m.abs(_2c.distY);if(_2c.absDistX<6&&_2c.absDistY<6){return;}if(_2c.options.lockDirection){if(_2c.absDistX>_2c.absDistY+5){_31=_2c.y;_2f=0;}else{if(_2c.absDistY>_2c.absDistX+5){_30=_2c.x;_2e=0;}}}_2c.moved=true;_2c._pos(_30,_31);_2c.dirX=_2e>0?-1:_2e<0?1:0;_2c.dirY=_2f>0?-1:_2f<0?1:0;if(_33-_2c.startTime>300){_2c.startTime=_33;_2c.startX=_2c.x;_2c.startY=_2c.y;}if(_2c.options.onScrollMove){_2c.options.onScrollMove.call(_2c,e);}},_end:function(e){if(_12&&e.touches.length!==0){return;}var _34=this,_35=_12?e.changedTouches[0]:e,_36,ev,_37={dist:0,time:0},_38={dist:0,time:0},_39=(e.timeStamp||Date.now())-_34.startTime,_3a=_34.x,_3b=_34.y,_3c,_3d,_3e,_3f,_40;_34._unbind(_17,_1);_34._unbind(_18,_1);_34._unbind(_19,_1);if(_34.options.onBeforeScrollEnd){_34.options.onBeforeScrollEnd.call(_34,e);}if(_34.zoomed){_40=_34.scale*_34.lastScale;_40=Math.max(_34.options.zoomMin,_40);_40=Math.min(_34.options.zoomMax,_40);_34.lastScale=_40/_34.scale;_34.scale=_40;_34.x=_34.originX-_34.originX*_34.lastScale+_34.x;_34.y=_34.originY-_34.originY*_34.lastScale+_34.y;_34.scroller.style[_a]="200ms";_34.scroller.style[_7]="translate("+_34.x+"px,"+_34.y+"px) scale("+_34.scale+")"+_1f;_34.zoomed=false;_34.refresh();if(_34.options.onZoomEnd){_34.options.onZoomEnd.call(_34,e);}return;}if(!_34.moved){if(_12){if(_34.doubleTapTimer&&_34.options.zoom){clearTimeout(_34.doubleTapTimer);_34.doubleTapTimer=null;if(_34.options.onZoomStart){_34.options.onZoomStart.call(_34,e);}_34.zoom(_34.pointX,_34.pointY,_34.scale==1?_34.options.doubleTapZoom:1);if(_34.options.onZoomEnd){setTimeout(function(){_34.options.onZoomEnd.call(_34,e);},200);}}else{if(this.options.handleClick){_34.doubleTapTimer=setTimeout(function(){_34.doubleTapTimer=null;_36=_35.target;while(_36.nodeType!=1){_36=_36.parentNode;}if(_36.tagName!="SELECT"&&_36.tagName!="INPUT"&&_36.tagName!="TEXTAREA"){ev=_2.createEvent("MouseEvents");ev.initMouseEvent("click",true,true,e.view,1,_35.screenX,_35.screenY,_35.clientX,_35.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);ev._fake=true;_36.dispatchEvent(ev);}},_34.options.zoom?250:0);}}}_34._resetPos(400);if(_34.options.onTouchEnd){_34.options.onTouchEnd.call(_34,e);}return;}if(_39<300&&_34.options.momentum){_37=_3a?_34._momentum(_3a-_34.startX,_39,-_34.x,_34.scrollerW-_34.wrapperW+_34.x,_34.options.bounce?_34.wrapperW:0):_37;_38=_3b?_34._momentum(_3b-_34.startY,_39,-_34.y,(_34.maxScrollY<0?_34.scrollerH-_34.wrapperH+_34.y-_34.minScrollY:0),_34.options.bounce?_34.wrapperH:0):_38;_3a=_34.x+_37.dist;_3b=_34.y+_38.dist;if((_34.x>0&&_3a>0)||(_34.x<_34.maxScrollX&&_3a<_34.maxScrollX)){_37={dist:0,time:0};}if((_34.y>_34.minScrollY&&_3b>_34.minScrollY)||(_34.y<_34.maxScrollY&&_3b<_34.maxScrollY)){_38={dist:0,time:0};}}if(_37.dist||_38.dist){_3e=m.max(m.max(_37.time,_38.time),10);if(_34.options.snap){_3c=_3a-_34.absStartX;_3d=_3b-_34.absStartY;if(m.abs(_3c)<_34.options.snapThreshold&&m.abs(_3d)<_34.options.snapThreshold){_34.scrollTo(_34.absStartX,_34.absStartY,200);}else{_3f=_34._snap(_3a,_3b);_3a=_3f.x;_3b=_3f.y;_3e=m.max(_3f.time,_3e);}}_34.scrollTo(m.round(_3a),m.round(_3b),_3e);if(_34.options.onTouchEnd){_34.options.onTouchEnd.call(_34,e);}return;}if(_34.options.snap){_3c=_3a-_34.absStartX;_3d=_3b-_34.absStartY;if(m.abs(_3c)<_34.options.snapThreshold&&m.abs(_3d)<_34.options.snapThreshold){_34.scrollTo(_34.absStartX,_34.absStartY,200);}else{_3f=_34._snap(_34.x,_34.y);if(_3f.x!=_34.x||_3f.y!=_34.y){_34.scrollTo(_3f.x,_3f.y,_3f.time);}}if(_34.options.onTouchEnd){_34.options.onTouchEnd.call(_34,e);}return;}_34._resetPos(200);if(_34.options.onTouchEnd){_34.options.onTouchEnd.call(_34,e);}},_resetPos:function(_41){var _42=this,_43=_42.x>=0?0:_42.x<_42.maxScrollX?_42.maxScrollX:_42.x,_44=_42.y>=_42.minScrollY||_42.maxScrollY>0?_42.minScrollY:_42.y<_42.maxScrollY?_42.maxScrollY:_42.y;if(_43==_42.x&&_44==_42.y){if(_42.moved){_42.moved=false;if(_42.options.onScrollEnd){_42.options.onScrollEnd.call(_42);}}if(_42.hScrollbar&&_42.options.hideScrollbar){if(_4=="webkit"){_42.hScrollbarWrapper.style[_d]="300ms";}_42.hScrollbarWrapper.style.opacity="0";}if(_42.vScrollbar&&_42.options.hideScrollbar){if(_4=="webkit"){_42.vScrollbarWrapper.style[_d]="300ms";}_42.vScrollbarWrapper.style.opacity="0";}return;}_42.scrollTo(_43,_44,_41||0);},_wheel:function(e){var _45=this,_46,_47,_48,_49,_4a;if("wheelDeltaX" in e){_46=e.wheelDeltaX/12;_47=e.wheelDeltaY/12;}else{if("wheelDelta" in e){_46=_47=e.wheelDelta/12;}else{if("detail" in e){_46=_47=-e.detail*3;}else{return;}}}if(_45.options.wheelAction=="zoom"){_4a=_45.scale*Math.pow(2,1/3*(_47?_47/Math.abs(_47):0));if(_4a<_45.options.zoomMin){_4a=_45.options.zoomMin;}if(_4a>_45.options.zoomMax){_4a=_45.options.zoomMax;}if(_4a!=_45.scale){if(!_45.wheelZoomCount&&_45.options.onZoomStart){_45.options.onZoomStart.call(_45,e);}_45.wheelZoomCount++;_45.zoom(e.pageX,e.pageY,_4a,400);setTimeout(function(){_45.wheelZoomCount--;if(!_45.wheelZoomCount&&_45.options.onZoomEnd){_45.options.onZoomEnd.call(_45,e);}},400);}return;}_48=_45.x+_46;_49=_45.y+_47;if(_48>0){_48=0;}else{if(_48<_45.maxScrollX){_48=_45.maxScrollX;}}if(_49>_45.minScrollY){_49=_45.minScrollY;}else{if(_49<_45.maxScrollY){_49=_45.maxScrollY;}}if(_45.maxScrollY<0){_45.scrollTo(_48,_49,0);}},_transitionEnd:function(e){var _4b=this;if(e.target!=_4b.scroller){return;}_4b._unbind(_1a);_4b._startAni();},_startAni:function(){var _4c=this,_4d=_4c.x,_4e=_4c.y,_4f=Date.now(),_50,_51,_52;if(_4c.animating){return;}if(!_4c.steps.length){_4c._resetPos(400);return;}_50=_4c.steps.shift();if(_50.x==_4d&&_50.y==_4e){_50.time=0;}_4c.animating=true;_4c.moved=true;if(_4c.options.useTransition){_4c._transitionTime(_50.time);_4c._pos(_50.x,_50.y);_4c.animating=false;if(_50.time){_4c._bind(_1a);}else{_4c._resetPos(0);}return;}_52=function(){var now=Date.now(),_53,_54;if(now>=_4f+_50.time){_4c._pos(_50.x,_50.y);_4c.animating=false;if(_4c.options.onAnimationEnd){_4c.options.onAnimationEnd.call(_4c);}_4c._startAni();return;}now=(now-_4f)/_50.time-1;_51=m.sqrt(1-now*now);_53=(_50.x-_4d)*_51+_4d;_54=(_50.y-_4e)*_51+_4e;_4c._pos(_53,_54);if(_4c.animating){_4c.aniTime=_1c(_52);}};_52();},_transitionTime:function(_55){_55+="ms";this.scroller.style[_a]=_55;if(this.hScrollbar){this.hScrollbarIndicator.style[_a]=_55;}if(this.vScrollbar){this.vScrollbarIndicator.style[_a]=_55;}},_momentum:function(_56,_57,_58,_59,_5a){var _5b=0.0006,_5c=m.abs(_56)/_57,_5d=(_5c*_5c)/(2*_5b),_5e=0,_5f=0;if(_56>0&&_5d>_58){_5f=_5a/(6/(_5d/_5c*_5b));_58=_58+_5f;_5c=_5c*_58/_5d;_5d=_58;}else{if(_56<0&&_5d>_59){_5f=_5a/(6/(_5d/_5c*_5b));_59=_59+_5f;_5c=_5c*_59/_5d;_5d=_59;}}_5d=_5d*(_56<0?-1:1);_5e=_5c/_5b;return {dist:_5d,time:m.round(_5e)};},_offset:function(el){var _60=-el.offsetLeft,top=-el.offsetTop;while(el=el.offsetParent){_60-=el.offsetLeft;top-=el.offsetTop;}if(el!=this.wrapper){_60*=this.scale;top*=this.scale;}return {left:_60,top:top};},_snap:function(x,y){var _61=this,i,l,_62,_63,_64,_65;_62=_61.pagesX.length-1;for(i=0,l=_61.pagesX.length;i<l;i++){if(x>=_61.pagesX[i]){_62=i;break;}}if(_62==_61.currPageX&&_62>0&&_61.dirX<0){_62--;}x=_61.pagesX[_62];_64=m.abs(x-_61.pagesX[_61.currPageX]);_64=_64?m.abs(_61.x-x)/_64*500:0;_61.currPageX=_62;_62=_61.pagesY.length-1;for(i=0;i<_62;i++){if(y>=_61.pagesY[i]){_62=i;break;}}if(_62==_61.currPageY&&_62>0&&_61.dirY<0){_62--;}y=_61.pagesY[_62];_65=m.abs(y-_61.pagesY[_61.currPageY]);_65=_65?m.abs(_61.y-y)/_65*500:0;_61.currPageY=_62;_63=m.round(m.max(_64,_65))||200;return {x:x,y:y,time:_63};},_bind:function(_66,el,_67){(el||this.scroller).addEventListener(_66,this,!!_67);},_unbind:function(_68,el,_69){(el||this.scroller).removeEventListener(_68,this,!!_69);},destroy:function(){var _6a=this;_6a.scroller.style[_7]="";_6a.hScrollbar=false;_6a.vScrollbar=false;_6a._scrollbar("h");_6a._scrollbar("v");_6a._unbind(_15,_1);_6a._unbind(_16);_6a._unbind(_17,_1);_6a._unbind(_18,_1);_6a._unbind(_19,_1);if(!_6a.options.hasTouch){_6a._unbind("DOMMouseScroll");_6a._unbind("mousewheel");}if(_6a.options.useTransition){_6a._unbind(_1a);}if(_6a.options.checkDOMChanges){clearInterval(_6a.checkDOMTime);}if(_6a.options.onDestroy){_6a.options.onDestroy.call(_6a);}},refresh:function(){var _6b=this,_6c,i,l,els,pos=0,_6d=0;if(_6b.scale<_6b.options.zoomMin){_6b.scale=_6b.options.zoomMin;}_6b.wrapperW=_6b.wrapper.clientWidth||1;_6b.wrapperH=_6b.wrapper.clientHeight||1;_6b.minScrollY=-_6b.options.topOffset||0;_6b.scrollerW=m.round(_6b.scroller.offsetWidth*_6b.scale);_6b.scrollerH=m.round((_6b.scroller.offsetHeight+_6b.minScrollY)*_6b.scale);_6b.maxScrollX=_6b.wrapperW-_6b.scrollerW;_6b.maxScrollY=_6b.wrapperH-_6b.scrollerH+_6b.minScrollY;_6b.dirX=0;_6b.dirY=0;if(_6b.options.onRefresh){_6b.options.onRefresh.call(_6b);}_6b.hScroll=_6b.options.hScroll&&_6b.maxScrollX<0;_6b.vScroll=_6b.options.vScroll&&(!_6b.options.bounceLock&&!_6b.hScroll||_6b.scrollerH>_6b.wrapperH);_6b.hScrollbar=_6b.hScroll&&_6b.options.hScrollbar;_6b.vScrollbar=_6b.vScroll&&_6b.options.vScrollbar&&_6b.scrollerH>_6b.wrapperH;_6c=_6b._offset(_6b.wrapper);_6b.wrapperOffsetLeft=-_6c.left;_6b.wrapperOffsetTop=-_6c.top;if(typeof _6b.options.snap=="string"){_6b.pagesX=[];_6b.pagesY=[];els=_6b.scroller.querySelectorAll(_6b.options.snap);for(i=0,l=els.length;i<l;i++){pos=_6b._offset(els[i]);pos.left+=_6b.wrapperOffsetLeft;pos.top+=_6b.wrapperOffsetTop;_6b.pagesX[i]=pos.left<_6b.maxScrollX?_6b.maxScrollX:pos.left*_6b.scale;_6b.pagesY[i]=pos.top<_6b.maxScrollY?_6b.maxScrollY:pos.top*_6b.scale;}}else{if(_6b.options.snap){_6b.pagesX=[];while(pos>=_6b.maxScrollX){_6b.pagesX[_6d]=pos;pos=pos-_6b.wrapperW;_6d++;}if(_6b.maxScrollX%_6b.wrapperW){_6b.pagesX[_6b.pagesX.length]=_6b.maxScrollX-_6b.pagesX[_6b.pagesX.length-1]+_6b.pagesX[_6b.pagesX.length-1];}pos=0;_6d=0;_6b.pagesY=[];while(pos>=_6b.maxScrollY){_6b.pagesY[_6d]=pos;pos=pos-_6b.wrapperH;_6d++;}if(_6b.maxScrollY%_6b.wrapperH){_6b.pagesY[_6b.pagesY.length]=_6b.maxScrollY-_6b.pagesY[_6b.pagesY.length-1]+_6b.pagesY[_6b.pagesY.length-1];}}}_6b._scrollbar("h");_6b._scrollbar("v");if(!_6b.zoomed){_6b.scroller.style[_a]="0";_6b._resetPos(400);}},scrollTo:function(x,y,_6e,_6f){var _70=this,_71=x,i,l;_70.stop();if(!_71.length){_71=[{x:x,y:y,time:_6e,relative:_6f}];}for(i=0,l=_71.length;i<l;i++){if(_71[i].relative){_71[i].x=_70.x-_71[i].x;_71[i].y=_70.y-_71[i].y;}_70.steps.push({x:_71[i].x,y:_71[i].y,time:_71[i].time||0});}_70._startAni();},scrollToElement:function(el,_72){var _73=this,pos;el=el.nodeType?el:_73.scroller.querySelector(el);if(!el){return;}pos=_73._offset(el);pos.left+=_73.wrapperOffsetLeft;pos.top+=_73.wrapperOffsetTop;pos.left=pos.left>0?0:pos.left<_73.maxScrollX?_73.maxScrollX:pos.left;pos.top=pos.top>_73.minScrollY?_73.minScrollY:pos.top<_73.maxScrollY?_73.maxScrollY:pos.top;_72=_72===undefined?m.max(m.abs(pos.left)*2,m.abs(pos.top)*2):_72;_73.scrollTo(pos.left,pos.top,_72);},scrollToPage:function(_74,_75,_76){var _77=this,x,y;_76=_76===undefined?400:_76;if(_77.options.onScrollStart){_77.options.onScrollStart.call(_77);}if(_77.options.snap){_74=_74=="next"?_77.currPageX+1:_74=="prev"?_77.currPageX-1:_74;_75=_75=="next"?_77.currPageY+1:_75=="prev"?_77.currPageY-1:_75;_74=_74<0?0:_74>_77.pagesX.length-1?_77.pagesX.length-1:_74;_75=_75<0?0:_75>_77.pagesY.length-1?_77.pagesY.length-1:_75;_77.currPageX=_74;_77.currPageY=_75;x=_77.pagesX[_74];y=_77.pagesY[_75];}else{x=-_77.wrapperW*_74;y=-_77.wrapperH*_75;if(x<_77.maxScrollX){x=_77.maxScrollX;}if(y<_77.maxScrollY){y=_77.maxScrollY;}}_77.scrollTo(x,y,_76);},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(_17,_1);this._unbind(_18,_1);this._unbind(_19,_1);},enable:function(){this.enabled=true;},stop:function(){if(this.options.useTransition){this._unbind(_1a);}else{_1e(this.aniTime);}this.steps=[];this.moved=false;this.animating=false;},zoom:function(x,y,_78,_79){var _7a=this,_7b=_78/_7a.scale;if(!_7a.options.useTransform){return;}_7a.zoomed=true;_79=_79===undefined?200:_79;x=x-_7a.wrapperOffsetLeft-_7a.x;y=y-_7a.wrapperOffsetTop-_7a.y;_7a.x=x-x*_7b+_7a.x;_7a.y=y-y*_7b+_7a.y;_7a.scale=_78;_7a.refresh();_7a.x=_7a.x>0?0:_7a.x<_7a.maxScrollX?_7a.maxScrollX:_7a.x;_7a.y=_7a.y>_7a.minScrollY?_7a.minScrollY:_7a.y<_7a.maxScrollY?_7a.maxScrollY:_7a.y;_7a.scroller.style[_a]=_79+"ms";_7a.scroller.style[_7]="translate("+_7a.x+"px,"+_7a.y+"px) scale("+_78+")"+_1f;_7a.zoomed=false;},isReady:function(){return !this.moved&&!this.zoomed&&!this.animating;}};function _8(_7c){if(_4===""){return _7c;}_7c=_7c.charAt(0).toUpperCase()+_7c.substr(1);return _4+_7c;};_3=null;if(typeof exports!=="undefined"){exports.iScroll=_20;}else{_1.iScroll=_20;}})(window,document);